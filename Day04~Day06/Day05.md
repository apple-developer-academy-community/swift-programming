# **Chapter5. 연산자**

단항 연산자, 이항 연산자, 삼항 연산자, 전위 연산자, 중위 연산자, 후위 연산자

## 5.1 연산자의 종류

### 5.1.1 할당 연산자

- A = B

### 5.1.2 산술 연산자

- +, -, *, /, %

> 스위프트에서는 부동소수점 타입의 나머지 연산까지 지원합니다. 기존 프로그래밍 언어에서는 나머지 연산자가 정수타입만 지원하는 경우가 많았는데 스위프트에서는 부동소수점 타입도 나머지 연산을 할 수 있습니다.
스위프트는 데이터 타입에 굉장히 엄격하므로 서로 다른 자료형끼리의 연산을 엄격히 제한합니다. Int 타입과 UInt 타입끼리의 연산도 엄격히 제한됩니다.
> 

```swift
print(5.truncatingRemainder(dividingBy: 1.5))  // 0.5
```

### 5.1.3 비교 연산자

- == : 값이 같은지 비교
- === : 참조 타입일 때 같은 인스턴스 가리키는지 비교하여 Bool값 반환
- ! == : 참조 타입일 때 같지 않은 인스턴스 가리키는지 비교하여 Bool값 반환
- ~= : 패턴이 매치되는지 확인하여 Bool값 반환(범위에 들어가는지 확인할 때 사용)
    - ex) 0..<10 ~= n

### 5.1.4 삼항 조건 연산자

- 조건 ? 참 값 : 거짓 값

### 5.1.5 범위 연산자

- A…B
- A..<B
- …A

### 5.1.6 부울 연산자

- !B : Boolean NOT
- A && B : Boolean AND
- A || B : Boolean OR

### 5.1.7 비트 연산자

- NOT 비트 연산자: ~A
- AND 비트 연산자: A & B
- OR 비트 연산자: A | B
- XOR 비트 연산자: A ^ B
- 비트 이동 연산자: A << B (A의 비트를 B만큼 시프트)
    
    print(4 >> 3) // 32
    

### 5.1.8 복합 할당 연산자

할당 연산자와 다른 연산자가 하는 일을 한번에 할 수 있도록 연산자를 결합할 수 있습니다.

### 5.1.9 오버플로 연산자

기존 프로그래밍 언어에서는 오버플로( 또는 언더플로) 가능성이 있는 연산에 대해서는 따로 오버플로에 대한 추가 알고리즘 및 로직 등을 설계하는 것이 일반적이었습니다. 스위프트는 기본 연산자를 통해 오버플로에 대비할 수 있도록 준비해두었습니다. 오버플로 연산자를 사용하면 오버플로를 자동으로 처리합니다.

- 오버플로 더 학기  산: &+
    
    오버플로에 대비한 덧셈 연산을 합니다.
    
- 오버플로 빼기 연산 : &-
    
    오버플로에 대비한 뺄셈 연산을 합니다.
    
- 오버플로 곱하기 연산 : &*
    
    오버플로에 대비한 곱셈 연산을 합니다.
    

```swift
var unsignedInt: UInt8 = 0
let errorUnderflowResults: UInt8 = unsignedInt - 1  // 런타임 오류 발생
let underflowedValue: UInt8 = unsignedInt &- 1      // 255
print(UInt8.max &+ 1)                               // 0
```

### 5.1.10 기타 연산자

> nil 병합 연산자는 옵셔널을 사용할 때 아주 유용한 연산자입니다. 
옵셔널 강제 추출 연산자 사용은 지양하는 편이 좋습니다.
> 
- nil 병합 연산자: ??
- 부호 변경 연산자: -
- 옵셔널 강제 추출 연산자: !
- 옵셔널 연산자: ?

### 5.2 연산자 우선순위와 결합방향

스위프트에서 연산자 우선순위를 지정해놓았습니다. 라이브러리 확인

| Operators 연산자 | Associativity 결합방향 |
| --- | --- |
| Bitwise Shift: >> << | none |
| Multiplicative: % * / | left |
| Additive: | + - ^ | left |
| Range: ..< ... | none |
| Casting: is as | none |
| Nil-Coalescing: ?? | right |
| Comparison: != > < >= <= === == | none |
| Logical AND: && | left |
| Logical OR: || | left |
| Ternary Operator: ? : | right |
| Assignment: |= %= /= *= >>= <<= ^= | right |

## 5.3 사용자 정의 연산자

스위프트에서는 사용자의 입맛에 맞게 연산자 역할을 부여할 수 있습니다. 이 때 연산자가 전위, 중위, 후위 연산자인지 알아야 합니다.

- 사용자 정의 연산자는 아스키 문자를 결합해서 사용.
    
    /, =, -, +, !, *, %, <, >, &, |, ^, ?, ~
    
- 토큰으로 사용되는 =, →, //, /*, */, . 과 전위 연산자 <, &, ?, 중위 연산자 ?, 후위연산자 >, !, ? 등은 이미 스위프트에서 예약한 상태이기 때문에 재정의 할 수 없으며, 사용자 정의 연산자로 사용할 수 없습니다.

5.3.1 전위 연산자 정의와 구현

5.3.2 후위 연산자 정의와 구현

5.3.3 중위 연산자 정의와 구현
